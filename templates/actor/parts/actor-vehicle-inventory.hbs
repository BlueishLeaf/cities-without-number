{{!-- Headers --}}
<div class="resources grid grid-3col">
  <div class="resource flex-group-center">
    <label class="resource-label">Power</label>
    <div class="resource-content flexrow flex-center flex-between">
    <input type="number" name="system.power.value" disabled value="{{system.power.value}}" data-dtype="Number"/>
    <i class="fas fa-slash-forward"></i>
    <input type="number" name="system.power.max" value="{{system.power.max}}" data-dtype="Number"/>
    </div>
  </div>

  <div class="resource flex-group-center">
    <label class="resource-label">Mass</label>
    <div class="resource-content flexrow flex-center flex-between">
      <input type="number" name="system.mass.value" disabled value="{{system.mass.value}}" data-dtype="Number"/>
      <i class="fas fa-slash-forward"></i>
      <input type="number" name="system.mass.max" value="{{system.mass.max}}" data-dtype="Number"/>
    </div>
  </div>

  <div class="resource flex-group-center">
    <label class="resource-label">Hardpoints</label>
    <div class="resource-content flexrow flex-center flex-between">
      <input type="text" name="system.hardpoints.value" disabled value="{{system.hardpoints.value}}" data-dtype="Number"/>
      <i class="fas fa-slash-forward"></i>
      <input type="text" name="system.hardpoints.max" value="{{system.hardpoints.max}}" data-dtype="Number"/>
    </div>
  </div>
</div>

{{!-- Weapons --}}
<ol class="items-list">
  <li class="item flexrow items-header">
    <div class="item-name">Weapons</div>
    <div class="item-stats">Power</div>
    <div class="item-stats">Mass</div>
    <div class="item-stats">Range</div>
    <div class="item-stats">Magazine</div>
    <div class="item-controls">
      <a class="item-control item-create" title="Create weapon" data-type="weapon"><i class="fas fa-plus"></i> Add</a>
    </div>
  </li>
  {{#each weapons as |weapon id|}}
  <li class="item flexrow" data-item-id="{{weapon._id}}">
    <div class="item-name">
      <div class="item-image">
        <a class="rollable" data-roll-type="weapon"><img class="rollable-img" src="{{weapon.img}}" title="{{weapon.name}}" width="24" height="24"/></a>
      </div>
      <h4 class="expandable">{{weapon.name}}</h4>
    </div>
    <div class="item-stats">
      <h4>{{weapon.system.mounted.power}}</h4>
    </div>
    <div class="item-stats">
      <h4>{{weapon.system.mounted.mass}}</h4>
    </div>
    <div class="item-stats">
      <h4>{{weapon.system.range.effective}}/{{weapon.system.range.max}}</h4>
    </div>
    <div class="item-stats">
      {{#if weapon.system.magazine}}
      <h4 class="{{#ifEquals weapon.system.magazine.value 0}}item-text-warning{{/ifEquals}}">{{weapon.system.magazine.value}}/{{weapon.system.magazine.max}}</h4>
      {{else}}
      <h4>N/A</h4>
      {{/if}}
    </div>
    <div class="item-controls">
      <a class="item-control item-refresh" title="Reload Magazine"><i class="fas fa-arrows-rotate"></i></a>
      <a class="item-control item-edit" title="Edit Weapon"><i class="fas fa-edit"></i></a>
      <a class="item-control item-delete" title="Delete Weapon"><i class="fas fa-trash"></i></a>
    </div>
  </li>
  <div class="item-description hidden">{{{weapon.system.description}}}</div>
  {{/each}}
</ol>

{{!-- Cargo --}}
<ol class="items-list">
  <li class="item flexrow items-header">
    <div class="item-name">Cargo</div>
    <div class="item-stats">Quantity</div>
    <div class="item-stats" title="Encumbrance">Enc.</div>
    <div class="item-controls">
      <a class="item-control item-create" title="Create Gear" data-type="gear"><i class="fas fa-plus"></i> Add</a>
    </div>
  </li>
  {{#each inventory as |gear id|}}
  <li class="item flexrow" data-item-id="{{gear._id}}">
    <div class="item-name">
      <div class="item-image">
        <a class="rollable" data-roll-type="gear"><img class="rollable-img" src="{{gear.img}}" title="{{gear.name}}" width="24" height="24"/></a>
      </div>
      <h4 class="expandable">{{gear.name}}</h4>
    </div>
    <div class="item-stats">
      <h4>{{gear.system.quantity}}</h4>
    </div>
    <div class="item-stats">
      <h4>{{gear.system.encumbrance}}</h4>
    </div>
    <div class="item-controls">
      <a class="item-control item-edit" title="Edit Gear"><i class="fas fa-edit"></i></a>
      <a class="item-control item-delete" title="Delete Gear"><i class="fas fa-trash"></i></a>
    </div>
  </li>
  <div class="item-description hidden">{{{gear.system.description}}}</div>
  {{/each}}
</ol>

{{!-- Fittings --}}
<ol class="items-list">
  <li class="item flexrow items-header">
    <div class="item-name">Fittings</div>
    <div class="item-stats">Power</div>
    <div class="item-stats">Mass</div>
    <div class="item-controls">
      <a class="item-control item-create" title="Create custom fitting" data-type="fitting"><i class="fas fa-plus"></i> Add</a>
    </div>
  </li>
  {{#each fittings as |fitting id|}}
  <li class="item flexrow" data-item-id="{{fitting._id}}">
    <div class="item-name">
      <div class="item-image">
        <a class="rollable" data-roll-type="fitting"><img class="rollable-img" src="{{fitting.img}}" title="{{fitting.name}}" width="24" height="24"/></a>
      </div>
      <h4 class="expandable">{{fitting.name}}</h4>
    </div>
    <div class="item-stats">
      <h4>{{fitting.system.power}}</h4>
    </div>
    <div class="item-stats">
      <h4>{{fitting.system.mass}}</h4>
    </div>
    <div class="item-controls">
      <a class="item-control item-edit" title="Edit fitting"><i class="fas fa-edit"></i></a>
      <a class="item-control item-delete" title="Delete fitting"><i class="fas fa-trash"></i></a>
    </div>
  </li>
  <div class="item-description hidden">{{{fitting.system.description}}}</div>
  {{/each}}
</ol>

{{!-- Mods --}}
<ol class="items-list">
  <li class="item flexrow items-header">
    <div class="item-name">Mods</div>
    <div class="item-controls">
      <a class="item-control item-create" title="Create mods" data-type="mod"><i class="fas fa-plus"></i> Add</a>
    </div>
  </li>
  {{#each mods as |mod id|}}
  <li class="item flexrow" data-item-id="{{mod._id}}">
    <div class="item-name">
      <div class="item-image">
        <a class="rollable" data-roll-type="mod"><img class="rollable-img" src="{{mod.img}}" title="{{mod.name}}" width="24" height="24"/></a>
      </div>
      <h4 class="expandable">{{mod.name}}</h4>
    </div>
    <div class="item-controls">
      <a class="item-control item-edit" title="Edit mod"><i class="fas fa-edit"></i></a>
      <a class="item-control item-delete" title="Delete mod"><i class="fas fa-trash"></i></a>
    </div>
  </li>
  <div class="item-description hidden">{{{mod.system.description}}}</div>
  {{/each}}
</ol>